
MODULE Shut_down_prep
	CONST robtarget ShutDown_home := [[514.79,-0.15,712.59],[0.70775,0.000289062,0.706463,8.02313E-05],[-1,0,0,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	PERS robtarget OptiCal0 := [[524.8,-453.7,141.3],[0,0,0.707107,0.707107],[-1,0,-2,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	PERS robtarget OptiCal1 := [[625.2,-453.7,141.3],[0.17487,-0.38535,0.87261,-0.24387],[-1,0,-2,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	PERS robtarget OptiCal2 := [[-214.21,-740.96,470.23],[0.179296,0.17858,-0.688036,0.680124],[-2,-1,-1,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	PERS robtarget OptiCal3 := [[-214.20,-644.66,470.23],[0.179288,0.178575,-0.688046,0.680118],[-2,-1,-1,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	PERS robtarget Optical4 := [[88.66,-644.66,470.23],[0.179282,0.17856,-0.688055,0.680114],[-1,0,-2,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	PERS robtarget optical5 := [[88.45,-612.93,470.22],[0.179277,0.178552,-0.688065,0.680108],[-1,0,-2,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	PERS robtarget optical6 := [[-217.44,-612.93,470.22],[0.179281,0.178553,-0.68807,0.680101],[-2,-1,-1,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	PERS robtarget optical7 := [[-217.43,-551.50,470.16],[0.179258,0.178545,-0.688125,0.680054],[-2,-1,-1,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	PERS robtarget optical8 := [[93.89,-551.49,470.15],[0.179263,0.178525,-0.688138,0.680045],[-1,0,-2,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	PERS robtarget optical9 := [[93.88,-495.87,470.15],[0.179263,0.178539,-0.688145,0.680034],[-1,0,-2,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	PERS robtarget optical10 := [[-201.50,-495.87,470.13],[0.179286,0.178538,-0.688174,0.679999],[-2,-1,-1,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	PERS robtarget optical11 := [[-201.52,-461.90,470.15],[0.179292,0.178479,-0.688167,0.68002],[-2,-1,-1,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	PERS robtarget optical12 := [[77.28,-461.89,470.15],[0.179284,0.178498,-0.68818,0.680003],[-1,0,-2,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	CONST robtarget Optical14:=[[77.28,-461.90,470.15],[0.179285,0.178502,-0.688179,0.680003],[-1,0,-2,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	CONST robtarget optical15:=[[77.28,-461.89,470.15],[0.179284,0.178496,-0.688178,0.680006],[-1,0,-2,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	CONST robtarget optical16:=[[77.28,-461.89,470.15],[0.179287,0.178498,-0.688179,0.680004],[-1,0,-2,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	CONST robtarget optical17:=[[77.28,-461.89,470.15],[0.179283,0.178496,-0.68818,0.680004],[-1,0,-2,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	CONST robtarget optical18:=[[77.28,-461.90,470.15],[0.179285,0.1785,-0.688178,0.680004],[-1,0,-2,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	CONST robtarget optical19:=[[77.28,-461.90,470.15],[0.179286,0.1785,-0.688178,0.680005],[-1,0,-2,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	CONST robtarget optical20:=[[77.28,-461.90,470.15],[0.179285,0.178502,-0.688177,0.680005],[-1,0,-2,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	CONST robtarget optical21:=[[77.28,-461.90,470.15],[0.179285,0.178502,-0.688181,0.680001],[-1,0,-2,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	PERS robtarget optical_pnts{12} := [[[-34.1,-564.6,137],[0.27291,-0.20451,0.93861,-0.05171],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[202.9,-564.4,137],[0.27291,-0.20453,0.93863,-0.05171],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[203.167,-564.393,135.732],[0.0958,-0.401,0.9102,-0.0391],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[203.388,-564.387,131.28],[0.0383,-0.4597,0.8871,-0.0186],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[203.556,-564.382,123.802],[0.0222,-0.475,0.8796,-0.0112],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[203.665,-564.379,116.31],[0.0165,-0.4803,0.8769,-0.0084],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[203.75,-564.377,108.814],[0.0134,-0.483,0.8755,-0.0069],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[203.684,-564.379,101.317],[0.0097,-0.4864,0.8737,-0.0051],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[203.635,-564.38,93.8182],[0.0075,-0.4884,0.8726,-0.004],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[203.596,-564.381,86.3191],[0.0061,-0.4897,0.8718,-0.0032],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[203.564,-564.382,78.8197],[0.005,-0.4907,0.8713,-0.0027],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[203.514,-564.383,63.8205],[0.0037,-0.4919,0.8707,-0.002],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]]];
	PERS tooldata tooltaoming := [TRUE,[[0,0,0],[1,0,0,0]],[-1,[0,0,0],[1,0,0,0],0,0,0]];
	PERS tooldata tool1 := [TRUE,[[-2.81184,2.61169,494.73],[1,0,0,0]],[5,[0,0,0],[1,0,0,0],0,0,0]];
	PERS tooldata tool2 := [TRUE,[[0,0,494.73],[1,0,0,0]],[10,[0,0,0],[1,0,0,0],0,0,0]];
	PERS tooldata tool3 := [TRUE,[[0,0,439],[1,0,0,0]],[0.5,[0,0,200],[1,0,0,0],0,0,0]];
	PERS tooldata tool5 := [TRUE,[[0,0,285],[1,0,0,0]],[0.05,[0,0,145],[1,0,0,0],0,0,0]];
	CONST robtarget optical_pnt3{10} := [[[524.8,-453.7,141.3],[0.17487,-0.38535,0.87261,-0.24387],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[624.797,-453.7,141.3],[0.17487,-0.38535,0.87267,-0.24387],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[625.044,-453.845,140],[0.0595,-0.467,0.8769,-0.0974],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[625.254,-453.968,135.637],[0.024,-0.4763,0.8781,-0.0399],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[625.412,-454.061,128.158],[0.0139,-0.4779,0.878,-0.0232],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[625.5796,-454.1605,114.6707],[0.0087,-0.4784,0.878,-0.0146],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[625.532,-454.133,105.675],[0.0061,-0.4786,0.8779,-0.0103],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[625.4491,-454.0835,90.6776],[0.0038,-0.4788,0.8779,-0.0064],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[625.4248,-454.0692,84.6782],[0.0033,-0.4788,0.8779,-0.0055],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[0,1105.6,725.8],[0.5702,-0.4181,0.4181,0.5702],[0,0,0,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]]];
	CONST robtarget testPt:=[[505.59,0.74,679.14],[0.00936539,-0.869687,0.0030326,-0.493505],[-1,2,-1,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	PERS robtarget optical_pnts2{20}:=[[[203.5,-564.37,63.81],[0.00371436,-0.491852,0.870669,-0.00198406],[-1,0,-2,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[232.9,-564.4,63.8205],[0.1848,-0.2881,0.9379,-0.0568],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[231.432,-555.13,63.8205],[0.1933,-0.3179,0.9282,-0.003],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[227.171,-546.766,63.8205],[0.187,-0.3566,0.914,0.049],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[220.534,-540.13,63.8205],[0.1672,-0.3967,0.8974,0.0971],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[212.171,-535.868,63.8205],[0.1347,-0.4329,0.8805,0.1386],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[202.9,-534.4,63.8205],[0.091,-0.4619,0.8656,0.1705],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[193.63,-535.868,63.8205],[0.0387,-0.484,0.8534,0.1894],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[185.266,-540.13,63.8205],[-0.0169,-0.5051,0.8411,0.1926],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[178.63,-546.766,63.8205],[-0.0699,-0.5314,0.8248,0.1802],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[174.368,-555.13,63.8205],[-0.1162,-0.5635,0.8032,0.1545],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[172.9,-564.4,63.8205],[-0.1532,-0.5983,0.7776,0.1179],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[174.368,-573.67,63.8205],[-0.1792,-0.6312,0.7512,0.0725],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[178.63,-582.037,63.8205],[-0.1922,-0.6568,0.7288,0.0203],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[185.266,-588.67,63.8205],[-0.1897,-0.6681,0.7186,-0.0372],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[193.63,-592.932,63.8205],[-0.1671,-0.6541,0.7313,-0.0972],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[202.9,-594.4,63.8205],[-0.1182,-0.5998,0.7764,-0.153],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[212.171,-592.932,63.8205],[-0.0418,-0.4978,0.8455,-0.1887],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[220.534,-588.67,63.8205],[0.0438,-0.3821,0.9037,-0.1883],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[227.171,-582.034,63.8205],[0.1133,-0.3051,0.9325,-0.1566],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]]];
	CONST jointtarget jpos5{6}:=[[[-117.7,34.8,-21.9,27.8,93.8,-144.6],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-96.6,23.7,-5.5,32.6,78.9,-129.6],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[12,0,0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[13,0,0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[14,0,0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[15,15,0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]]];
	CONST jointtarget jpos1{91}:=[[[-117.708,34.7705,-21.9247,27.8108,93.8064,-144.553],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-116.78,33.8785,-20.5436,28.0546,92.9509,-143.9822],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-115.8367,33.0242,-19.2304,28.302,92.1133,-143.39],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-114.878,32.2067,-17.9826,28.5523,91.2922,-142.7765],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-113.9043,31.4253,-16.7982,28.8047,90.486,-142.1425],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-112.9157,30.6791,-15.6752,29.0586,89.6937,-141.4884],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-111.9124,29.9685,-14.6121,29.3131,88.9139,-140.8148],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-110.8948,29.2925,-13.6074,29.5676,88.1458,-140.1222],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-109.8632,28.651,-12.66,29.8215,87.3884,-139.4112],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-108.818,28.0441,-11.7689,30.0739,86.6409,-138.6821],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-107.7597,27.4716,-10.9331,30.3243,85.9027,-137.9355],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-106.6886,26.9336,-10.1518,30.572,85.173,-137.1719],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-105.6055,26.4301,-9.4245,30.8162,84.4515,-136.3917],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-104.5108,25.9612,-8.7504,31.0563,83.7376,-135.5956],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-103.4051,25.5271,-8.1292,31.2917,83.031,-134.7838],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-102.2892,25.1279,-7.5604,31.5216,82.3317,-133.9571],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-101.1637,24.7638,-7.0437,31.7455,81.6392,-133.1157],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-100.0295,24.435,-6.5787,31.9626,80.9535,-132.2604],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-98.8872,24.1417,-6.1652,32.1722,80.2747,-131.3915],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-97.7378,23.8839,-5.803,32.3739,79.6027,-130.5096],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-96.5821,23.662,-5.4918,32.567,78.9378,-129.6152],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-96.5555,23.6776,-5.4457,32.5776,78.8721,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-96.4766,23.7242,-5.3096,32.6094,78.6778,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-96.345,23.8038,-5.0849,32.6633,78.3543,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-96.3713,23.7877,-5.1296,32.6525,78.419,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-92.6589,22.2338,-6.1132,28.0235,77.6457,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-89.6633,21.4563,-7.11236,24.2599,77.3819,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-87.2588,21.1226,-8.0258,21.2478,77.3479,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-85.3228,21.0312,-8.7996,18.8309,77.4207,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-83.7458,21.0703,-9.452,16.8724,77.5352,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-82.4524,21.1786,-9.9987,15.2652,77.6583,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-81.3715,21.3219,-10.4558,13.929,77.7737,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-80.4592,21.4813,-10.838,12.8024,77.8742,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-79.6803,21.646,-11.1578,11.84633,77.957,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-79.0085,21.8103,-11.4252,11.0219,78.0218,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-77.83,22.1283,-11.9537,9.5605,78.2183,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-76.1327,22.7026,-12.6605,7.4627,78.4505,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-75.508,22.9533,-12.8877,6.6926,78.49,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-74.5474,23.3897,-13.1705,5.5098,78.4938,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-73.8487,23.756,-13.2926,4.6505,78.3859,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-73.1044,24.212,-13.2847,3.7356,78.0938,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-72.5856,24.5929,-13.1339,3.0977,77.6983,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-72.1018,25.0291,-12.8033,2.5024,77.0708,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-71.763,25.4174,-12.3876,2.0849,76.3718,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-71.3251,26.128,-11.4372,1.5442,74.8555,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-71.8441,25.8014,-10.9358,2.2788,74.4259,-129.6152],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-73.4829,25.0285,-9.6464,4.616,73.3549,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-75.1314,24.3809,-8.4164,6.9985,72.3806,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-76.7779,23.8613,-7.2496,9.4117,71.5093,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-78.4107,23.4703,-6.1492,11.8389,70.7452,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-80.0187,23.2063,-5.1171,14.2663,70.09,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-81.5915,23.0659,-4.1548,16.675,69.5434,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-83.1198,23.044,-3.2625,19.0503,69.1026,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-84.5958,23.1338,-2.44,21.378,68.7631,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-86.0128,23.3276,-1.6861,23.6458,68.5188,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-85.9905,27.1578,-7.1716,22.8924,73.3582,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-84.885,34.8968,-18.8818,20.4732,83.0034,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-83.9012,38.7257,-24.9595,18.9401,87.7343,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-82.6893,42.4797,-31.0847,17.2361,92.3498,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-81.2881,46.1189,-37.1699,15.3716,96.7986,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-79.7318,49.5927,-43.106,13.3443,101.0146,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-78.0513,52.83,-48.744,11.1442,104.908,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-76.2741,55.7257,-53.8679,8.759,108.3526,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-74.4256,58.1234,-58.1711,6.1839,111.1715,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-72.529,59.81,-61.2268,3.4358,113.1327,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-70.6066,60.5555,-62.5854,0.5706,113.993,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-70.6066,60.5555,-62.5854,0.5706,113.9933,-129.616],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-68.68,60.2272,-61.9865,-2.3161,113.6148,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-66.7707,58.8863,-59.5501,-5.1195,112.0609,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-64.9004,56.7407,-55.6843,-7.7666,109.55,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-63.0922,54.0193,-50.8399,-10.2269,106.3275,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-61.3705,50.9016,-45.3735,-12.4986,102.5934,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-59.7618,47.5109,-39.5342,-14.5926,98.4922,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-58.2956,43.93,-33.4929,-16.5204,94.1262,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-57.0047,40.2161,-27.3721,-18.288,89.5696,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-55.9261,36.4123,-21.2662,-19.8907,84.8787,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-55.1013,32.5553,-15.2549,-21.3082,80.0985,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-54.5764,28.6809,-9.4119,-22.4992,75.2687,-126.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-54.4016,24.8291,-3.8105,-23.3952,70.4232,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-54.6299,21.0486,1.4727,-23.892,65.6051,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-55.3131,17.4025,6.3557,-23.842,60.8651,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-56.4957,13.9718,10.75,-23.0486,56.2781,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-58.2053,10.8591,14.5625,-21.2725,51.959,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-60.4394,8.1872,17.699,-18.265,48.0815,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-63.1521,6.0904,20.0705,-13.8521,44.8887,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-66.2436,4.6975,21.6017,-8.0818,42.6741,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-69.562,4.1073,22.2389,-1.3706,41.7088,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-72.9192,4.3651,21.9618,5.5127,42.1327,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-76.1208,5.451,20.7777,11.7264,43.8826,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-78.9977,7.2847,18.7295,16.6979,46.7259,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-81.4288,9.7462,15.8844,20.247,50.3663,-129.615],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]]];
	CONST robtarget optical_pnts1{35}:=[[[-31.4,-564.4,139],[0.27291,-0.20453,0.93863,-0.05171],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[202.9,-564.4,139],[0.27291,-0.20453,0.93863,-0.05171],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[202.9,-564.4,139],[0.0004,-0.4939,0.8695,-0.0002],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[202.897,-564.4,124.005],[-0.0001,-0.4944,0.8693,0.0001],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[202.8966,-564.4001,64.0054],[0,-0.4942,0.8693,0],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[227.9,-564.9,64.0054],[0.1618,-0.3142,0.9339,-0.0544],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[226.6765,-556.6746,64.0054],[0.1706,-0.3365,0.9261,-0.0059],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[223.1254,-549.7054,64.0054],[0.1656,-0.3683,0.9139,0.0414],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[217.5946,-544.1746,64.0054],[0.148,-0.4027,0.8993,0.085],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[210.6254,-540.6236,64.0054],[0.119,-0.4348,0.8842,0.1224],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[202.9,-539.4,64.0054],[0.08,-0.4621,0.8703,0.1508],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[195.1746,-540.6236,64.0054],[0.034,-0.4848,0.8578,0.1673],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[188.2054,-544.1746,64.0054],[-0.015,-0.5068,0.845,0.17],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[182.6746,-549.7054,64.0054],[-0.0621,-0.532,0.8294,0.159],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[179.1236,-556.675,64.0054],[-0.1034,-0.5608,0.8101,0.1358],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[177.9,-564.4,64.0054],[-0.1366,-0.5911,0.7883,0.1024],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[179.1236,-572.1254,64.0054],[-0.1594,-0.6189,0.7667,0.0609],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[182.6746,-579.0946,64.0054],[-0.1702,-0.6392,0.7499,0.0132],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[188.2054,-584.6254,64.0054],[-0.1663,-0.6455,0.7445,-0.0386],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[195.175,-588.1764,64.0054],[-0.1442,-0.6289,0.7585,-0.0913],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[202.9,-589.4,64.0054],[-0.1004,-0.5794,0.7969,-0.1381],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[210.6254,-588.1764,64.0054],[-0.0362,-0.4963,0.8512,-0.1668],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[217.5946,-584.6254,64.0054],[0.0348,-0.4042,0.8986,-0.1671],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[223.1254,-579.0946,64.0054],[0.0952,-0.3385,0.9254,-0.1417],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[226.6746,-572.1254,64.0054],[0.1374,-0.311,0.935,-0.1013],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[227.9,-564.4,64.0054],[0.1618,-0.3142,0.9339,-0.0544],[0,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[205.09,-565.79,139.96],[0.000189787,0.496347,-0.868121,0.00244485],[-1,0,-2,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[205.09,-565.79,139.96],[0.000189787,0.496347,-0.868121,0.00244485],[-1,0,-2,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[205.09,-565.79,139.96],[0.000189787,0.496347,-0.868121,0.00244485],[-1,0,-2,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[205.09,-565.79,139.96],[0.000189787,0.496347,-0.868121,0.00244485],[-1,0,-2,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[205.09,-565.79,139.96],[0.000189787,0.496347,-0.868121,0.00244485],[-1,0,-2,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[205.09,-565.79,139.96],[0.000189787,0.496347,-0.868121,0.00244485],[-1,0,-2,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[205.09,-565.79,139.96],[0.000189787,0.496347,-0.868121,0.00244485],[-1,0,-2,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[205.09,-565.79,139.96],[0.000189787,0.496347,-0.868121,0.00244485],[-1,0,-2,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[205.09,-565.79,139.96],[0.000189787,0.496347,-0.868121,0.00244485],[-1,0,-2,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]]];
	TASK PERS tooldata tool6:=[TRUE,[[-0.280022,-1.80034,497.202],[1,0,0,0]],[-1,[0,0,0],[1,0,0,0],0,0,0]];
	TASK PERS tooldata tool7:=[TRUE,[[-1.26197,0.392483,501.135],[1,0,0,0]],[-1,[0,0,0],[1,0,0,0],0,0,0]];
	TASK PERS tooldata tool8:=[TRUE,[[-0.127771,-1.13584,504.359],[1,0,0,0]],[-1,[0,0,0],[1,0,0,0],0,0,0]];
	TASK PERS tooldata tool9:=[TRUE,[[0,0,497],[1,0,0,0]],[0.6,[0,0,100],[1,0,0,0],0,0,0]];
	CONST robtarget optical_pnts4{10}:=[[[150,-1030,239.78],[0.54311,0.506853,0.490833,-0.455209],[-1,0,0,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-16.3,-1192,222],[0.54311,0.506853,0.490833,-0.455209],[-1,0,0,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-16.3,-1030,239.78],[0.54311,0.506853,0.490833,-0.455209],[-1,0,0,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-45.5,-1060.6,233.1],[0.47424,0.56214,0.4885,-0.46954],[-1,0,0,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-45.5,-950,239.78],[0.54311,0.506853,0.490833,-0.455209],[-1,0,0,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-98.14,-985.65,264.8],[0.54311,0.506853,0.490833,-0.455209],[-1,0,0,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[155.91,-1059.68,239.78],[0.54311,0.506853,0.490833,-0.455209],[-1,0,0,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[155.91,-1059.68,239.78],[0.54311,0.506853,0.490833,-0.455209],[-1,0,0,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[155.91,-1059.68,239.78],[0.54311,0.506853,0.490833,-0.455209],[-1,0,0,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[155.91,-1059.68,239.78],[0.54311,0.506853,0.490833,-0.455209],[-1,0,0,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]]];
	PERS robtarget wrist_top_pos:=[[509.91,-208.51,378.86],[0.656356,0.465891,0.557427,0.203513],[-1,0,0,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	CONST robtarget Surg_Wrist_Top_9:=[[-56.40,-958.80,156.69],[0.691416,0.718403,0.0648077,-0.0404983],[-2,-1,0,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	CONST robtarget Surg_Wrist_Start_9:=[[687.97,-810.05,304.52],[0.43869,0.800006,0.407982,0.0330496],[-1,-1,1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	CONST jointtarget jpos2:=[[-94.3131,49.8949,-0.0342452,0,-49.9369,-0.0166246],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	CONST robtarget optical_pnts5:=[[-59.8,-1080.9,130.4],[0.4656,0.4937,0.5502,-0.4866],[2,-1,-1,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	CONST robtarget optical_pnts6:=[[-59.76,-1080.89,130.36],[0.443896,0.469185,0.571263,-0.506438],[-2,-1,-1,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	CONST robtarget optical_pnts7:=[[-88.1,-1082.7,140.5],[0.28853,0.29509,0.67768,-0.60862],[-2,-1,-1,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	CONST robtarget optical_pnts8:=[[-46.3,-1029.5,156.7],[0.4832,0.519,-0.5007,0.4964],[-1,0,0,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	CONST robtarget optical_pnts9{3}:=[[[453.99,-412.24,449.8],[0.620275,0.177826,0.694751,-0.317738],[-1,-1,-1,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-106.42,-419.11,131.97],[0.296249,0.22674,0.680581,-0.630583],[-2,-1,-1,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.6,-1067.6,101.4],[0.2266,0.2062,0.6776,-0.6686],[-2,-1,-1,-1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]]];
	CONST jointtarget jpos3{72}:=[[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,5],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,10],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,15],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,20],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,25],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,30],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,35],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,40],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,45],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,50],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,55],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,60],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,65],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,70],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,75],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,80],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,85],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,90],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,95],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,100],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,105],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,110],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,115],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,120],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,125],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,130],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,135],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,140],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,145],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,150],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,155],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,160],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,165],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,170],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,175],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,180],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,185],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,190],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,195],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,200],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,205],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,210],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,215],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,220],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,225],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,230],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,235],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,240],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,245],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,250],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,255],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,260],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,265],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,270],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,275],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,280],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,285],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,290],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,295],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,300],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,305],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,310],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,315],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,320],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,325],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,330],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,335],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,340],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,345],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,350],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,355],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-44.9957,30.1374,49.9945,-0.0283659,-80.1275,360],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]]];
	CONST jointtarget jpos4:=[[-45,64.1,19.2,0,-83.3,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	CONST jointtarget jpos6:=[[-45,64.1,19.1,0,-83.2,360],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	CONST jointtarget jpos7:=[[-45,80.68,-33.56,0,-47.12,360],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	CONST jointtarget jpos8:=[[-45,64.1,19.2,0,-55,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	CONST jointtarget jpos9:=[[-45,64.1,19.2,0,-105,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	CONST jointtarget jpos10:=[[-45,54.2,-67.2,0,103,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	CONST jointtarget jpos11:=[[-45,54.2,-67.2,0,103,360],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	CONST jointtarget jpos12:=[[-45,63,4,0,-22,180],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	CONST jointtarget jpos13:=[[-45,63,4,0,-67,360],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	CONST jointtarget jpos22:=[[-99.6577,58.1206,14.7436,0,-72.86,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	CONST robtarget oo{5}:=[[[-0.95,-646.19,238.69],[0.497502,0.50081,0.498489,-0.50318],[-2,0,-1,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-0.96,-646.19,238.69],[0.497499,0.500811,0.498489,-0.503181],[-2,0,-1,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-673.02,-282.08,228.84],[0.161536,0.698664,0.168628,-0.676269],[-2,-1,0,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-723.27,-307.67,226.98],[0.16153,0.698651,0.168602,-0.67629],[-2,-1,0,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],[[-510.10,-69.38,712.59],[0.0479948,0.70485,0.0475139,-0.706134],[-2,0,-1,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]]];
	PROC moveJoints()
		MoveJ ShutDown_home, v7000, fine, tool0;
	ENDPROC
	PROC quat_test()
		p0 := CRobT();
		p0.rot := NOrient([    .62603,-.04945,.77669,.04904]);
		MoveL p0, v1000, z50, Surg_Tool;
	ENDPROC
	PROC cal_move()
		!VAR robtarget quatData{1,1,1} := [[[[[516.92,13.41,674.59],[0.903248,0.0239416,0.428446,-0.00192642],[0,0,-1,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]]]]];
		!OptiCal0.rot := NOrient([ 0,0 ,  .70107,.70107]);
		!FOR i FROM 1 TO 21 DO
			!!MoveJ demo3, v150, z20, tool5;
			!!MoveL demo2, v100, z20, tool5;
			!MoveJ demo3, v50, fine, tool9;
			!!WaitTime 1;
			!MoveL oo4{i}, v100, z1, tool9;
		!ENDFOR
		!FOR i FROM 1 TO 3 DO
			!MoveL optical_pnts9{i}, v150, z20, tool9;
		!ENDFOR
		!MoveJ oo{1}, v2000, z100, tool0;
		!FOR i  FROM 2 TO 4 DO
			!MoveL oo{i}, v2000, z1, tool0;
		!ENDFOR
		!MoveAbsJ jpos1{1}, v200, z20, tool3;
		!WaitTime 1;
		!Reset UserDO1;
		!WaitTime 1;
		!MoveL oo{5}, v300, z1, tool0;
		MoveAbsJ jpos2, v30, fine, tool9;
		!FOR i FROM 1 TO 1 DO
		!!MoveL op1{i}, v50, z1, Surg_Tool;
			!MoveAbsJ jpos14, v20\T:=25, fine, tool9;
			!!MoveAbsJ jpos12, v20, fine, tool9;
			!!!MoveL optical_pnts2{i}, v30, z20, tool3;
			!!!!WaitTime 10;
			!!!!MoveAbsJ jpos13, v100, z20, tool9;
			!!!!WaitTime 5;
			!!!!MoveAbsJ jpos7, v10, z20, tool0;
		!ENDFOR
	ENDPROC
	
	
	PROC ForceSensorTest()
		VAR num loadIDStatus;
		VAR num keyNum;
		VAR loaddata testLoad1;
		VAR fcforcevector testForceVector;
		CONST robtarget testPos := [[514.79,-0.16,712.61],[0.5,0.5,0.5,0.5],[-1,0,-1,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
		MoveJ ShutDown_home, v7000, fine, tool0;
		testLoad1 := FCLoadId(\LoadIDErr:=loadIDStatus);
		TPWrite "Load ID completed with an error code"\Num := loadIDStatus;
		FCCalib testLoad1;
		TPWrite "FC Calib complete";
		MoveJ testPos, v7000, fine, tool0;
		TPReadFK keyNum,"Place Weight on sensor:", "Yes", "Sure", "", "", "";
		testForceVector := FCGetForce(\ContactForce);
		TPWrite "The X Force is measured as "\Num := testForceVector.xforce;
		TPWrite "The Y Force is measured as "\Num := testForceVector.yforce;
		TPWrite "The Z Force is measured as "\Num := testForceVector.zforce;
	ENDPROC
	
	PROC PortalTest()
		CONST robtarget StartoffC := [[442.86,321.74,661.93],[0.332852,-0.0524911,0.920067,0.19983],[0,-1,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
		CONST pos portLocationC := [715,507,340];
		CONST pos startingPosC :=  [715,507,200];
		CONST pos endingPos1C :=   [655,600,340];
		CONST pos endingPos2C :=   [500,600,400];
		var robtarget Startoff;
		var pos portLocation;
		var pos startingPos;
		var pos endingPos1;
		var pos endingPos2;
		VAR num startingZ :=   0;
		VAR num endingZ :=   0;
		VAR num keyNum;
		
		!Goal 1. define the portal portal using free space
		Startoff:= StartoffC;
		portLocation:= portLocationC;
		startingPos := startingPosC;
		endingPos1 := endingPos1C;
		endingPos2 := endingPos2C;
		
		MoveL Startoff,v30,z50,tool0;
		
		PortalDefine portLocation;
		IdentPortal;
		TPReadFK keyNum,"Place Portal at tip location:", "Yes", "Sure", "", "", "";
		!Goal 2. define a start point and end point.
		!run through the two points.
		
		MoveNextPortal endingPos1,endingZ;
		!MoveTipPortal startingPos,endingPos1,startingZ,endingZ ;
		TPWrite "Finished Move 1";
		MoveNextPortal endingPos2,endingZ;
		!MoveTipPortal endingPos1,endingPos2,startingZ,endingZ ;
		TPWrite "Finished Move 2";
		MoveNextPortal startingPos,endingZ;
		!MoveTipPortal endingPos2,startingPos,startingZ,endingZ ;
		TPWrite "Finished Move 3";	
		IdentPortal;
		TPWrite "At portal tip";
		
		
		
		
		
	
	
	ENDPROC
	
	
	
	PROC FlyByTest()
	CONST robtarget Point1 := [[615.66,87.62,299.24],[0.707113,4.40386E-07,0.707101,-5.51299E-06],[0,0,-1,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	CONST robtarget Point1A := [[237.07,574.90,299.23],[0.613941,-0.350847,0.613938,0.350803],[0,0,-1,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	CONST robtarget Point1B := [[217.61,-442.53,710.16],[0.773408,0.257653,0.283076,-0.505295],[-1,0,-1,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	CONST robtarget Point1C := [[80.85,-178.38,1115.06],[0.835062,-0.0636927,-0.251608,-0.485085],[-1,0,-1,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	CONST robtarget Point1D := [[580.35,179.49,424.35],[0.707109,3.02975E-08,0.707105,4.6512E-06],[0,0,-1,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	var   zonedata  zoneT;
	var speeddata   speed;
	var num keyNum;
	
	TPReadFK keyNum,"Select Motion Type:", "FINE", "z5", "Z10", "Z50", "Z100";
	
	TEST keyNum
		CASE 1:
			zoneT:=fine;
		CASE 2:
			zoneT:=z5;
		CASE 3:
			zoneT:=z10;
		CASE 4:
			zoneT:=z50;
		case 5:
			zoneT:=z100;
		DEFAULT:
			zoneT:=z200;
	ENDTEST
	
	TPReadFK keyNum,"Select Motion Speed:", "v30", "v60", "v100", "v200", "v3000";
	
	TEST keyNum
		CASE 1:
			speed:=v30;
		CASE 2:
			speed:=v60;
		CASE 3:
			speed:=v100;
		CASE 4:
			speed:=v200;
		case 5:
			speed:=vmax;
		DEFAULT:
			speed:=v4000;
	ENDTEST
	
	moveJ Point1,speed,fine,tool0;
	
	
	
	moveJ Point1A,speed,zoneT,tool0;
	moveJ Point1B,speed,zoneT,tool0;
	moveJ Point1C,speed,zoneT,tool0;
	moveJ Point1D,speed,zoneT,tool0;
	
	moveJ Point1,speed,fine,tool0;
	
	
	
	
	ENDPROC
	
	
	PROC FlyByTestDrive()
	CONST robtarget Point1 := [[732.8,-10,205],[0.707113,4.40386E-07,0.707101,-5.51299E-06],[0,0,-1,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	const num nRad := 50;
	const num nSteps :=100;
	var robtarget PointTemp;
	var orient OrMult;
	var num theta;
	var num dtheta;
	var num index;
	var   zonedata  zoneT;
	var speeddata   speed;
	var num keyNum;
	
	theta := 0;
	dtheta:= 180/nSteps;
	
	TPReadFK keyNum,"Select Motion Type:", "FINE", "z5", "Z10", "Z50", "Z100";
	
	TEST keyNum
		CASE 1:
			zoneT:=fine;
		CASE 2:
			zoneT:=z5;
		CASE 3:
			zoneT:=z10;
		CASE 4:
			zoneT:=z50;
		case 5:
			zoneT:=z100;
		DEFAULT:
			zoneT:=z200;
	ENDTEST
	
	TPReadFK keyNum,"Select Motion Speed:", "v30", "v60", "v100", "v200", "v3000";
	
	TEST keyNum
		CASE 1:
			speed:=v30;
		CASE 2:
			speed:=v60;
		CASE 3:
			speed:=v100;
		CASE 4:
			speed:=v200;
		case 5:
			speed:=vmax;
		DEFAULT:
			speed:=v4000;
	ENDTEST
	
	moveJ Point1,speed,fine,tool0;
	
	
	FOR index FROM 1 TO nSteps DO
    
	!Comnpute the new tool position.
	
	theta := dtheta*index;
	!TPWRITE "Index: " \Num:= index;
	OrMult.q1 := cos(2*theta);
	OrMult.q2 := 0;
	OrMult.q3 := 0;
	OrMult.q4 := sin(2*theta);
	OrMult := Norient(OrMult);
	
	
 	PointTemp := Point1;
	!PointTemp.rot := PointTemp.rot*OrMult;
	
	PointTemp.trans.z := PointTemp.trans.z-(1-nRad*cos(theta));
	PointTemp.trans.y := PointTemp.trans.y-(nRad*sin(theta));
	
	moveL PointTemp,speed,zoneT,tool0;
	!WAITTIME(.01);
	ENDFOR
	moveJ Point1,speed,fine,tool0;
	
	
	ENDPROC
	
	
	

ENDMODULE